# -*- mode: sh; -*-
# vi: set ft=sh :

nix-grep() {
  nix-env -qaP \* \
    | "$GREPPAGE" -i "$@";
}
alias ng='nix-grep'

nix-grep-haskell() {
  nix-env -f "<nixpkgs>" -qaP -A haskellPackages \
    | "$GREPPAGE" -i "$@";
}
alias ngh='nix-grep-haskell'

nix-install() {
  local ncpu
  ncpu=$(sysctl -n hw.ncpu)
  nix-env -Q -j$ncpu -k -i "$@"
}

nix-update() {
  nix-install "$@";
}

nixpkgs-sync() {
  git -C "${NIXPKGS_PATH}" pull --ff-only upstream master;
}
